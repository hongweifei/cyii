(()=>{"use strict";var e={523:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t["汉字式子2表达式"]=void 0;const i=s(15);t["汉字式子2表达式"]=function(e){const t={等于:"=",加:"+",减:"-",减去:"-",乘:"*","×":"*",x:"*",除以:"/",除:"",倍:"",的:"",之:"",积:"",商:""};let s="",r="";const n=e.length-1;for(let i=0;i<n;i++){const n=e[i],p=e[i+1],u=n+p;"除"!==n||"以"===p?"倍"!==n?null!=t[u]?(i++,s+=r,s+=t[u],r=""):null!=t[n]?(s+=r,s+=t[n],r=""):r+=n:(s+="*"+r,r=""):(s+="1/"+r+"*",r="")}s+=r,s+=e[n];const p=s.split(/\+|\-|\*|\//g),u=p.map((e=>{const t=(0,i.hanzi2num)(e);return isNaN(t)?e:t.toString()}));for(let e=0;e<p.length;e++){const t=p[e];s=s.replace(t,u[e])}return s}},15:(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.bool2hanzi=t.num2hanzi=t.hanzi2num=t.hanzi2numstr=t.NumberTokenType=void 0,function(e){e[e.SIGN=0]="SIGN",e[e.DIGIT=1]="DIGIT",e[e.DECIMAL=2]="DECIMAL",e[e.INT_MULT=3]="INT_MULT",e[e.FRAC_MULT=4]="FRAC_MULT",e[e.DELIM=5]="DELIM",e[e.ZERO=6]="ZERO",e[e.BEGIN=7]="BEGIN",e[e.END=8]="END"}(s||(t.NumberTokenType=s={}));const i={负:{type:s.SIGN,sign:-1},"·":{type:s.DECIMAL,exp:0},又:{type:s.DELIM},有:{type:s.DELIM},零:{type:s.ZERO,digit:"0"},一:{type:s.DIGIT,digit:"1"},二:{type:s.DIGIT,digit:"2"},三:{type:s.DIGIT,digit:"3"},四:{type:s.DIGIT,digit:"4"},五:{type:s.DIGIT,digit:"5"},六:{type:s.DIGIT,digit:"6"},七:{type:s.DIGIT,digit:"7"},八:{type:s.DIGIT,digit:"8"},九:{type:s.DIGIT,digit:"9"},十:{type:s.INT_MULT,exp:1},百:{type:s.INT_MULT,exp:2},千:{type:s.INT_MULT,exp:3},万:{type:s.INT_MULT,exp:4},亿:{type:s.INT_MULT,exp:8},兆:{type:s.INT_MULT,exp:12},京:{type:s.INT_MULT,exp:16},垓:{type:s.INT_MULT,exp:20},秭:{type:s.INT_MULT,exp:24},穰:{type:s.INT_MULT,exp:28},溝:{type:s.INT_MULT,exp:32},澗:{type:s.INT_MULT,exp:36},正:{type:s.INT_MULT,exp:40},載:{type:s.INT_MULT,exp:44},極:{type:s.INT_MULT,exp:48},分:{type:s.FRAC_MULT,exp:-1},釐:{type:s.FRAC_MULT,exp:-2},毫:{type:s.FRAC_MULT,exp:-3},絲:{type:s.FRAC_MULT,exp:-4},忽:{type:s.FRAC_MULT,exp:-5},微:{type:s.FRAC_MULT,exp:-6},纖:{type:s.FRAC_MULT,exp:-7},沙:{type:s.FRAC_MULT,exp:-8},塵:{type:s.FRAC_MULT,exp:-9},埃:{type:s.FRAC_MULT,exp:-10},渺:{type:s.FRAC_MULT,exp:-11},漠:{type:s.FRAC_MULT,exp:-12},〇:{type:s.DIGIT,digit:"0"}},r={readout:"又"},n={readout:{0:"零",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九"}},p={readout:[{str:"極",exp:48},{str:"載",exp:44},{str:"正",exp:40},{str:"澗",exp:36},{str:"溝",exp:32},{str:"穰",exp:28},{str:"秭",exp:24},{str:"垓",exp:20},{str:"京",exp:16},{str:"兆",exp:12},{str:"亿",exp:8},{str:"万",exp:4},{str:"千",exp:3},{str:"百",exp:2},{str:"十",exp:1},{str:"",exp:0},{str:"分",exp:-1},{str:"釐",exp:-2},{str:"毫",exp:-3},{str:"絲",exp:-4},{str:"忽",exp:-5},{str:"微",exp:-6},{str:"纖",exp:-7},{str:"沙",exp:-8},{str:"塵",exp:-9},{str:"埃",exp:-10},{str:"渺",exp:-11},{str:"漠",exp:-12}]},u="NONE",o="FRAC",a="INT",c="DONE",x="SIGN",l="NONE",h="MULT",I="MULT_AMBIG",g="DIGIT",T="DIGIT_WITH_ZERO",_="DELIM",d="ZERO",f="SIGN",M="ZERO_MULT_AMBIG",y={sign:1,exp:0,digits:"9223372036854775808".split("").reverse()};function L(e){function t(e,t){const s=t-e.exp;return s>=0&&s<e.digits.length?e.digits[s]:"0"}const r=function(e){const t=[{type:s.BEGIN}];for(let s=0;s<e.length;++s){const r=e.charAt(s);if(!i[r])return null;t.push(i[r])}return t.push({type:s.END}),t}(e);if(null==r)return null;const n=function(e){let t=l;const i={isEmpty(){return 0===this._exps.length},total(){return this._expAdd},top(){return this._exps[this._exps.length-1]},state(){return this.isEmpty()?u:this._exps[0]<0?o:this._exps[0]<1/0?a:c},push(e){this._expAdd+=e,this._exps.push(e)},pop(){this._expAdd-=this.top(),this._exps.pop()},clear(){this._expAdd=0,this._exps=[]},markDone(){this.clear(),this.push(1/0)},_exps:[],_expAdd:0},r={sign(){return this._sign},exp(){return this._exp},digits(){return this._digits},applySign(e){this._sign*=e},push(e){Array.isArray(e)?(this._digits=this._digits.concat(e),this._exp+=e.length):(this._digits.push(e),++this._exp)},fillZeros(e){this.push(Array(e-this._exp).fill("0"))},resetExp(e){this._exp=e},_sign:1,_exp:0,_digits:[]};for(let n=e.length-1;n>0;--n){const p=e[n-1];if(i.state()===x&&p.type!==s.BEGIN)return null;switch(t){case I:switch(p.type){case s.BEGIN:case s.SIGN:case s.DELIM:case s.DECIMAL:case s.FRAC_MULT:r.push("1"),t=g;break;case s.DIGIT:t=h;break;case s.INT_MULT:i.top()<(p.exp||1)?(r.push("1"),t=g):t=h;break;case s.ZERO:t=I}break;case M:switch(p.type){case s.BEGIN:case s.SIGN:case s.DIGIT:case s.DELIM:case s.ZERO:r.push("0"),t=T;break;case s.DECIMAL:case s.FRAC_MULT:if(i.total()+1<p.exp)r.push("1"),r.push("0"),t=d;else{if(i.total()+1!==p.exp)return null;r.push("0"),t=T}break;case s.INT_MULT:if(null==p.exp)return null;i.top()+1<p.exp?(r.push("1"),r.push("0"),t=d):i.top()+1===p.exp?(r.push("0"),t=T):(r.push("0"),t=d)}}if(i.state()===u)switch(p.type){case s.INT_MULT:break;case s.DECIMAL:case s.FRAC_MULT:null!=p.exp&&r.resetExp(p.exp)}const a=function(){switch(p.type){case s.BEGIN:case s.SIGN:return t===h?null:(i.markDone(),i.total());case s.DIGIT:case s.ZERO:return t===_?(i.clear(),i.push(0),i.total()):r.exp();case s.DELIM:return t===_?null:r.exp();case s.DECIMAL:case s.FRAC_MULT:return t===h?null:(i.clear(),i.push(p.exp),i.total());case s.INT_MULT:switch(t){case _:if(i.state()===o)i.clear(),i.push(p.exp);else{for(;!i.isEmpty()&&i.top()<p.exp;)i.pop();i.push(p.exp)}break;case l:case h:case I:case g:case T:case d:case M:for(;!i.isEmpty()&&i.top()<p.exp&&i.top()>=0;)i.pop();i.push(p.exp)}return i.total()}}();if(null==a)return null;if(a<r.exp())return null;if(a>r.exp()){if(p.type!==s.BEGIN&&p.type!==s.SIGN&&t!==_&&t!==d&&p.type!==s.INT_MULT&&p.type!==s.FRAC_MULT&&p.type!==s.DECIMAL)return null;i.state()!==c&&r.fillZeros(a)}switch(p.type){case s.BEGIN:break;case s.SIGN:r.applySign(p.sign),t=f;break;case s.DIGIT:r.push(p.digit),t=t===d||t===T?T:g;break;case s.DECIMAL:t=l;break;case s.INT_MULT:t=I;break;case s.FRAC_MULT:t=h;break;case s.DELIM:t=_;break;case s.ZERO:switch(t){case l:case h:case g:case _:case T:case d:r.push(p.digit),t=d;break;case I:t=M}}}return 0===r.digits().length?null:{sign:r.sign(),exp:r.exp()-r.digits().length,digits:r.digits()}}(r);if(null==n)return null;if(!Number.isFinite(n.sign))return n.sign.toString();let p=n.sign<0?"-":"";const L=function(){if(n.exp<0)return!1;const e=function(e,s){const i=e=>e.exp+(e.digits.length-1);for(let r=Math.max(i(e),i(s));r>=e.exp||r>=s.exp;--r){const i=Number(t(e,r)),n=Number(t(s,r));if(i>n)return 1;if(i<n)return-1}return 0}(n,y);return n.sign<0?e<=0:e<0}(),N=n.digits.findIndex((e=>"0"!==e));if(N<0)return p+="0",p;const E=n.exp+N;let U=n.digits.length;for(;"0"===n.digits[U-1];)--U;const b=n.exp+U;let A="",D=!1;if(!L){const e=n.exp+(U-1);A=(e<0?"e-":"e+")+Math.abs(e).toString();const t=E<0?Math.max(b,1)-E+1:b;(U-N>1?U-N+1:1)+A.length<t&&(D=!0)}if(D){if(p+=n.digits[U-1],U-1>N){p+=".";for(let e=U-1;e>N;--e)p+=n.digits[e-1]}return p+=A,p}for(let e=Math.max(b,1);e>0;--e)p+=t(n,e-1);if(E<0){p+=".";for(let e=0;e>E;--e)p+=t(n,e-1)}return p}t.hanzi2numstr=L,t.hanzi2num=function(e){const t=L(e);return null==t?NaN:Number(t)},t.num2hanzi=function(e,t="",s=void 0){if(!Number.isFinite(e))return e===1/0?"无穷":e===-1/0?"负无穷":"不是数字";function i(e){function t(e,t){const s=e.indexOf(t);return s<0?e.length:s}const s="-"===e.charAt(0)?-1:1,i="+-".includes(e.charAt(0))?1:0,r=t(e,"e"),n=r===e.length?0:Number(e.substring(r+1)),p=t(e.substring(0,r),"."),u=e.substring(i,p).split("").reverse(),o=e.substring(Math.min(p+1,r),r).split("").reverse();return{sign:s,exp:n-o.length,digits:o.concat(u)}}const u="readout",o=p[u],a=n[u],c=r[u];let x=void 0===s?e.toString():e.toFixed(s),l=i(x),h=l.sign<0?"负":"",I=l.digits.findIndex((e=>"0"!==e));if(I<0)return h+a[0];let g=l.digits.length;for(;"0"===l.digits[g-1];)--g;const T=o[o.length-1].exp;if(l.exp+I<T){if(x=e.toFixed(-T),l=i(x),h=l.sign<0?"负":"",I=l.digits.findIndex((e=>"0"!==e)),I<0)return h+a[0];for(g=l.digits.length;"0"===l.digits[g-1];)--g}let _=h,d=!1,f=g;const M=function(e=0){let t=!1;for(;f!==I;){const s=o.find((t=>t.exp+e<=l.exp+(f-1)));if(void 0===s||s.exp<0)break;if(s.exp>0)M(e+s.exp)&&(d=!1,_+=s.str,t=!0);else if(0===s.exp){"0"!==l.digits[f-1]?(d&&(_+=a[0],d=!1),_+=a[l.digits[f-1]],t=!0):d=!0,--f;break}}return t},y=M();if(d=!1,f!==I){for(y&&(_+=c);f!==I&&"0"===l.digits[f-1];)--f;!function(){for(;f!==I;){const e=o.find((e=>e.exp<=l.exp+(f-1)));if(void 0===e)break;M(e.exp)&&(_+=e.str,d=!1)}}()}return _},t.bool2hanzi=function(e){return e?"真":"假"}},156:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,r)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||i(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),t["汉字式子运算"]=void 0;const n=s(523);r(s(523),t),t["汉字式子运算"]=function(e){const t=(0,n.汉字式子2表达式)(e),s=new Function(`return (${t})`);try{return s()}catch(t){throw new Error(`“${e}”不是合法的式子`)}}}},t={},s=function s(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,s),n.exports}(156),i=self;for(var r in s)i[r]=s[r];s.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();